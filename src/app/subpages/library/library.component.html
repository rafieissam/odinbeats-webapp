<div class="flex items-center">
    <div class="text-xl font-bold text-white tracking-wide">
        Library
    </div>
    <a class="flex items-center" (click)="createPlaylist()">
        <ng-icon class="cursor-pointer ml-4" name="jamPlusRectangle" color="var(--color-7)"></ng-icon>
    </a>
</div>
<div class="mt-10">
    <div class="flex items-center text-slate-400 text-xs border-b-2 border-slate-600 py-2 px-2">
        <div class="w-1/3">Playlist</div>
        <div class="w-1/3">Last Updated</div>    
        <div class="w-1/3">Date Added</div>
    </div>
    <div class="mt-2">
        @if (isLoading) {
            <div class="flex justify-center py-20">
                <app-loader></app-loader>
            </div>
        } @else {
            @for (playlist of playlists; track playlist.id) {
                <a class="flex items-center text-slate-400 justify-between py-2 px-2 transition ease-in-out hover:bg-[var(--color-5)] cursor-pointer"
                    [ngStyle]="{ backgroundColor: activePlaylistId == playlist.id ? 'var(--color-5)' : '' }"
                    [routerLink]="'./' + playlist.id"
                >
                    <div class="w-1/3 flex">
                        <div class="w-16 h-16 rounded-md bg-no-repeat bg-center bg-cover bg-[var(--color-5)] border-2"
                            [ngStyle]="{ borderColor: activePlaylistId == playlist.id ? 'var(--color-7)' : 'var(--color-1)', backgroundImage: 'url(\'' + playlist.image + '\')' }"
                        ></div>
                        <div class="ml-4">
                            <div [ngStyle]="{ color: activePlaylistId == playlist.id ? 'var(--color-7)' : '#fff', fontWeight: activePlaylistId == playlist.id ? 'bold': 'normal' }">{{ playlist.name }}</div>
                            <div class="text-xs text-slate-400">{{ (playlist?.totalDuration || 0) | durationToString }}</div>
                        </div>
                    </div>
                    <div class="w-1/3 text-xs">
                        {{ playlist.updatedAt | date }}
                    </div>
                    <div class="w-1/3 text-xs">
                        {{ playlist.createdAt | date }}
                    </div>
                </a>
            } @empty {
                <div class="box-content h-16 py-2 px-2 text-slate-400 text-sm italic">
                    No Playlists Yet!
                </div>
            }
        }
    </div>
</div>