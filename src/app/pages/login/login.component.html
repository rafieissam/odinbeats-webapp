<div class="h-screen w-screen flex items-center justify-center flex-col bg-[var(--color-6)] p-8">
    <div class="-mt-32 min-w-96 w-full max-w-lg flex justify-center">
        <div class="w-1/3">
            <div class="w-full bg-no-repeat bg-center bg-contain" style="padding-bottom: 40%; background-image: url('../assets/images/logo_components.png');" alt="OdinBeats Logo"></div>
        </div>
    </div>
    <form [formGroup]="form" (ngSubmit)="onSubmit()" class="mt-4 p-8 min-w-96 w-full max-w-lg bg-[var(--color-1)] shadow-md flex items-center flex-col">
        <app-logo></app-logo>
        <div class="mt-8 space-y-4 w-full flex flex-col items-center">
            @for (input of formInputs; track input.name) {
                <input [formControlName]="input.name" (input)="trackErrors()" class="w-2/3 max-w-auto text-sm text-slate-700 rounded-sm leading-8 px-4 bg-[var(--color-3)]" [placeholder]="input.placeholder" [type]="input.type" />
            }
        </div>
        @if (errorMsg) {
            <div class="mt-2 w-2/3 text-left font-semibold text-xs text-[var(--color-7)]">
                {{ errorMsg }}
            </div>
        }
        <button class="mt-6 text-white woodwarrior rounded-sm bg-[var(--color-7)] px-10 leading-10 transition ease-in-out cursor-pointer"
            [ngStyle]="(!form.valid || form.disabled) ? { background: 'var(--color-2)' } : {}"
            [disabled]="!form.valid"
        >{{
            isRegistering ? (
                isLoading ? "Registering..." : "Register" 
            ) : (
                isLoading ? "Logging In..." : "Log In" 
            )
        }}</button>
        <div class="mt-4 text-xs text-slate-400">
            @if (isRegistering) {
                Already have an account?
                <span (click)="switchToLogin()" class="ml-1 font-semibold text-[var(--color-7)] cursor-pointer">Login</span>
            } @else {
                Don't have an account yet?
                <span (click)="switchToRegister()" class="ml-1 font-semibold text-[var(--color-7)] cursor-pointer">Register</span>
            }
        </div>
    </form>
</div>