<div class="flex items-center flex-col">
    <div class="flex space-x-6 items-center">
        <ng-icon class="cursor-pointer" name="jamShuffle" [color]="isShuffling ? 'var(--primary-red)' : 'var(--primary-light)'" (click)="toggleShuffle()"></ng-icon>
        <ng-icon class="cursor-pointer" name="jamSetBackward" color="var(--primary-light)" (click)="goPrevious()"></ng-icon>
        <div class="cursor-pointer bg-[var(--primary-red)] w-10 h-10 rounded-full flex justify-center items-center" (click)="togglePlay()">
            @if (isPlaying) {
                <ng-icon name="jamPause"></ng-icon>
            } @else {
                <ng-icon name="jamPlay"></ng-icon>
            }
        </div>
        <ng-icon class="cursor-pointer" name="jamSetForward" color="var(--primary-light)" (click)="goNext()"></ng-icon>
        <span class="flex items-center">
            <ng-icon class="cursor-pointer" name="jamRepeat" [color]="(isRepeating || isRepeatingOne) ? 'var(--primary-red)' : 'var(--primary-light)'" (click)="toggleRepeat()"></ng-icon>
            @if (isRepeatingOne) {
                <span class="absolute -top-0.5 -right-1 text-white bg-[var(--primary-red)] w-3 h-3 rounded-full text-[0.5rem] flex items-center justify-center">1</span>
            }
        </span>
    </div>
    <div class="mt-4">
        <div class="flex items-center space-x-2 text-slate-200 text-xs w-screen md:w-auto px-4">
            <span>{{ currentTimeInternal | durationToMins }}</span>
            <div #seekBar class="rounded-md w-full md:w-96 h-1 bg-slate-600 select-none" (click)="onSeekClick($event)">
                <div class="absolute rounded-md inset-y-0 left-0 bg-[var(--primary-red)]" [ngStyle]="{ width: currentTimePercent + '%' }"></div>
                <div class="absolute cursor-grab h-3 w-3 -mt-1.5 -ml-1.5 hover:h-4 hover:w-4 hover:-mt-2 hover:-ml-2 top-1/2 rounded-full bg-[var(--primary-red)] shadow-lg border-2 border-[var(--primary-dark)]"
                    [ngStyle]="{ left: currentTimePercent + '%' }"
                    (mousedown)="onMouseDown($event)"
                ></div>
            </div>
            <span>{{ songDuration | durationToMins }}</span>
        </div>
    </div>
</div>